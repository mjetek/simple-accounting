@{
    Layout = null;
}

<form class="form-horizontal" role="form" name="form" ng-submit="vm.register()" novalidate>
    <fieldset>
        <legend>Login</legend>
        <div class="form-group has-feedback" ng-class="{'has-error': form.UserName.$dirty && form.UserName.$invalid, 'has-success': form.UserName.$dirty && form.UserName.$valid}">
            @Html.LabelFor(m => m.UserName, new { @class = "col-sm-2 control-label", })
            <div class="col-sm-10">
                @Html.TextBoxFor(m => m.UserName, new { required = "", @class = "form-control", ng_model = "vm.user.userName" })
                <span class="glyphicon form-control-feedback" ng-show="form.UserName.$dirty" ng-class="{'glyphicon-remove': form.UserName.$invalid, 'glyphicon-ok': form.UserName.$valid}"></span>
            </div>
            <ng-messages ng-show="form.UserName.$dirty" for="form.UserName.$error" class="col-sm-offset-2 col-sm-10">
                <ng-message when="required" class="field-validation-error">This field is required</ng-message>
            </ng-messages>
        </div>
        <div class="form-group has-feedback" ng-class="{'has-error': form.Password.$dirty && form.Password.$invalid, 'has-success': form.Password.$dirty && form.Password.$valid}">
            @Html.LabelFor(m => m.Password, new { @class = "col-sm-2 control-label" })
            <div class="col-sm-10">
                @Html.PasswordFor(m => m.Password, new { @class = "form-control", ng_model = "vm.company.password", ng_pattern = @"/^(?=.*\d).{4,10}$/", required = "" })
                <span class="glyphicon form-control-feedback" ng-show="form.Password.$dirty" ng-class="{'glyphicon-remove': form.Password.$invalid, 'glyphicon-ok': form.Password.$valid}"></span>
            </div>
            <ng-messages ng-show="form.Password.$dirty" for="form.Password.$error" class="col-sm-offset-2 col-sm-10">
                <ng-message when="pattern" class="field-validation-error">Password must be between 4 and 10 characters long and include at least one numeric digit</ng-message>
                <ng-message when="required" class="field-validation-error">Password is required</ng-message>
            </ng-messages>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-primary" ng-disabled="form.$invalid">Save</button>
                <button type="button" class="btn" ng-click="vm.cancel()">Cancel</button>
                <button type="button" class="btn" ng-show="vm.company.id" ng-click="vm.addUser()">Add user</button>
            </div>
        </div>
    </fieldset>
</form>
